#!/usr/bin/env bash

# æª¢æŸ¥ expressvpn æ˜¯å¦å¯ç”¨
if ! command -v expressvpn &>/dev/null; then
  echo "âŒ æ‰¾ä¸åˆ° expressvpn |"
  exit 1
fi

# ç²å– VPN ç‹€æ…‹
status=$(expressvpn status)

# æª¢æŸ¥æ˜¯å¦å·²é€£æ¥
if echo "$status" | grep -q "Connected"; then
  # æå–ä½ç½®
  location=$(echo "$status" | grep -oP "Connected to \K.*" | head -n 1)

  if [ -n "$location" ]; then
    echo "ğŸ”’ $location |"
  else
    echo "ğŸ”’ å·²é€£æ¥ |"
  fi
else
  echo "âš ï¸ VPN æœªé€£æ¥ |"
fi
